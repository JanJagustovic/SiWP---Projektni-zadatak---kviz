const sportPitanje = [
  {
    pitanje: "Which country won the FIFA World Cup in 2018?",
    odg: ["Brazil", "Germany", "France", "Argentina"],
    tocno: 2
  },
  {
    pitanje: "How many players are there in a basketball team on the court?",
    odg: ["5", "6", "7", "11"],
    tocno: 0
  },
  {
    pitanje: "Who holds the record for the most Grand Slam tennis titles (men's singles)?",
    odg: ["Roger Federer", "Rafael Nadal", "Novak Djokovic", "Pete Sampras"],
    tocno: 2
  },
  {
    pitanje: "Who is the NBA’s all-time leading scorer?",
    odg: ["Wilt Chamberlain", "Kareem Abdul-Jabbar", "Michael Jordan", "LeBron James"],
    tocno: 1
  },
  {
    pitanje: "Which swimmer has won the most Olympic gold medals?",
    odg: ["Mark Spitz", "Ian Thorpe", "Katie Ledecky", "Michael Phelps"],
    tocno: 3
  },
  {
    pitanje: "In which sport is the Ryder Cup contested?",
    odg: ["Tennis", "Cricket", "Golf", "Rugby"],
    tocno: 2
  },
  {
    pitanje: "Which boxer was known as 'The Greatest' and 'The People's Champion'?",
    odg: ["Joe Frazier", "Muhammad Ali", "Mike Tyson", "George Foreman"],
    tocno: 1
  },
  {
    pitanje: "Which country has won the most Rugby World Cup titles?",
    odg: ["England", "New Zealand", "South Africa", "Australia"],
    tocno: 1
  },
  {
    pitanje: "Who holds the NFL record for career passing yards?",
    odg: ["Tom Brady", "Drew Brees", "Peyton Manning", "Brett Favre"],
    tocno: 1
  },
  {
    pitanje: "Which tennis player won the Golden Slam in 1988?",
    odg: ["Serena Williams", "Steffi Graf", "Martina Navratilova", "Chris Evert"],
    tocno: 1
  },
  {
    pitanje: "Which country hosts the Monaco Grand Prix?",
    odg: ["France", "Italy", "Monaco", "Spain"],
    tocno: 2
  },
  {
    pitanje: "Who is the all-time top scorer for FC Barcelona?",
    odg: ["Ronaldinho", "Lionel Messi", "Luis Suárez", "Samuel Eto'o"],
    tocno: 1
  },
  {
    pitanje: "Which athlete lit the Olympic flame at the 2008 Beijing opening ceremony?",
    odg: ["Michael Phelps", "Li Ning", "Usain Bolt", "Haile Gebrselassie"],
    tocno: 1
  },
  {
    pitanje: "In which city were the first modern Olympic Games held in 1896?",
    odg: ["Paris", "Athens", "London", "Rome"],
    tocno: 1
  },
  {
    pitanje: "Which country won the first FIFA Women’s World Cup in 1991?",
    odg: ["USA", "Norway", "China", "Germany"],
    tocno: 0
  },
  {
    pitanje: "Who holds the Major League Baseball record for career home runs?",
    odg: ["Barry Bonds", "Hank Aaron", "Babe Ruth", "Alex Rodriguez"],
    tocno: 0
  },
  {
    pitanje: "Which NFL team has the most Super Bowl wins?",
    odg: ["Pittsburgh Steelers", "New England Patriots", "Dallas Cowboys", "San Francisco 49ers"],
    tocno: 0
  },
  {
    pitanje: "Who won the men’s singles gold medal in tennis at the 2016 Rio Olympics?",
    odg: ["Andy Murray", "Novak Djokovic", "Roger Federer", "Rafael Nadal"],
    tocno: 0
  },
  {
    pitanje: "Which country won the UEFA European Championship in 2020 (played in 2021)?",
    odg: ["Italy", "England", "Spain", "Germany"],
    tocno: 0
  },
  {
    pitanje: "Who was the first gymnast to score a perfect 10 in the Olympics?",
    odg: ["Olga Korbut", "Nadia Comăneci", "Mary Lou Retton", "Larisa Latynina"],
    tocno: 1
  },
  {
    pitanje: "Which sport uses the terms 'stale fish' and '360 spin'?",
    odg: ["Snowboarding", "Skateboarding", "Surfing", "Wakeboarding"],
    tocno: 1
  },
  {
    pitanje: "Which country won the first Cricket World Cup in 1975?",
    odg: ["Australia", "England", "West Indies", "India"],
    tocno: 2
  },
  {
    pitanje: "Who has the most Formula 1 World Championships?",
    odg: ["Michael Schumacher", "Lewis Hamilton", "Sebastian Vettel", "Ayrton Senna"],
    tocno: 1
  },
  {
    pitanje: "Which NBA team drafted Kobe Bryant in 1996?",
    odg: ["Los Angeles Lakers", "Charlotte Hornets", "Philadelphia 76ers", "Chicago Bulls"],
    tocno: 1
  },
  {
    pitanje: "Which country won the men’s ice hockey gold medal at the 2010 Vancouver Olympics?",
    odg: ["Canada", "USA", "Russia", "Sweden"],
    tocno: 0
  },
  {
    pitanje: "Who holds the women’s world record in the marathon?",
    odg: ["Paula Radcliffe", "Mary Keitany", "Brigid Kosgei", "Ruth Chepngetich"],
    tocno: 2
  },
  {
    pitanje: "In which sport is the Davis Cup contested?",
    odg: ["Badminton", "Tennis", "Table Tennis", "Squash"],
    tocno: 1
  },
  {
    pitanje: "Which country has won the most Olympic gold medals overall?",
    odg: ["Russia", "China", "USA", "Germany"],
    tocno: 2
  },
  {
    pitanje: "Who won the 2024 UEFA Champions League?",
    odg: ["Manchester City", "Real Madrid", "Bayern Munich", "Liverpool"],
    tocno: 1
  },
  {
    pitanje: "Which boxer was known for the 'Rumble in the Jungle' fight?",
    odg: ["Muhammad Ali", "George Foreman", "Joe Frazier", "Evander Holyfield"],
    tocno: 0
  },
  {
    pitanje: "Who holds the NHL record for most career goals?",
    odg: ["Wayne Gretzky", "Gordie Howe", "Alex Ovechkin", "Brett Hull"],
    tocno: 0
  },
  {
    pitanje: "Which country won the FIFA Women’s World Cup in 2019?",
    odg: ["USA", "Netherlands", "Sweden", "Japan"],
    tocno: 0
  },
  {
    pitanje: "Who is the all-time leading scorer in UEFA European Championship history?",
    odg: ["Cristiano Ronaldo", "Michel Platini", "Alan Shearer", "Wayne Rooney"],
    tocno: 0
  },
  {
    pitanje: "Which golf tournament is known as 'The Masters'?",
    odg: ["PGA Championship", "US Open", "The Open Championship", "The Masters Tournament"],
    tocno: 3
  },
  {
    pitanje: "Which country hosted the 2014 Winter Olympics?",
    odg: ["Canada", "Russia", "Japan", "South Korea"],
    tocno: 1
  },
  {
    pitanje: "Who was the first woman to win an IndyCar race?",
    odg: ["Danica Patrick", "Sarah Fisher", "Simona de Silvestro", "Milka Duno"],
    tocno: 0
  },
  {
    pitanje: "Which team won the MLB World Series in 2020?",
    odg: ["Los Angeles Dodgers", "Tampa Bay Rays", "Houston Astros", "Atlanta Braves"],
    tocno: 0
  },
  {
    pitanje: "Who holds the NBA record for most career triple-doubles?",
    odg: ["Oscar Robertson", "Russell Westbrook", "Magic Johnson", "LeBron James"],
    tocno: 1
  },
  {
    pitanje: "Which country won the men’s volleyball gold medal at the 2020 Tokyo Olympics?",
    odg: ["Brazil", "France", "Russia", "Poland"],
    tocno: 1
  },
  {
    pitanje: "Who was nicknamed 'The Iron Horse' in baseball?",
    odg: ["Babe Ruth", "Lou Gehrig", "Joe DiMaggio", "Ty Cobb"],
    tocno: 1
  },
  {
    pitanje: "Which city hosted the Summer Olympics in 2012?",
    odg: ["Beijing", "London", "Rio de Janeiro", "Tokyo"],
    tocno: 1
  },
  {
    pitanje: "Which country won the Cricket T20 World Cup in 2021?",
    odg: ["England", "Australia", "West Indies", "India"],
    tocno: 2
  },
  {
    pitanje: "Who holds the record for most goals in a single NHL season?",
    odg: ["Wayne Gretzky", "Mario Lemieux", "Brett Hull", "Alex Ovechkin"],
    tocno: 0
  },
  {
    pitanje: "Which tennis Grand Slam is played on clay courts?",
    odg: ["Wimbledon", "US Open", "French Open", "Australian Open"],
    tocno: 2
  },
  {
    pitanje: "Who won the men’s 100m gold medal at the 2016 Rio Olympics?",
    odg: ["Usain Bolt", "Justin Gatlin", "Yohan Blake", "Andre De Grasse"],
    tocno: 0
  },
  {
    pitanje: "Which country won the Rugby League World Cup in 2017?",
    odg: ["Australia", "England", "New Zealand", "Fiji"],
    tocno: 0
  },
  {
    pitanje: "Who holds the record for the most PGA Tour wins?",
    odg: ["Jack Nicklaus", "Tiger Woods", "Sam Snead", "Arnold Palmer"],
    tocno: 2
  },
  {
    pitanje: "Which basketball player is known as 'The Mailman'?",
    odg: ["Karl Malone", "John Stockton", "Charles Barkley", "Scottie Pippen"],
    tocno: 0
  },
  {
    pitanje: "Which country won the FIFA U-17 World Cup in 2019?",
    odg: ["Brazil", "Mexico", "USA", "France"],
    tocno: 3
  },
  {
    pitanje: "Which Formula 1 team won the constructors’ championship in 2021?",
    odg: ["Mercedes", "Red Bull Racing", "Ferrari", "McLaren"],
    tocno: 1
  }
];

function randomPitanje(polje) {
  for (let i = polje.length - 1; i >= 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [polje[i], polje[j]] = [polje[j], polje[i]];
  }
}

randomPitanje(sportPitanje);

sportPitanje.forEach(q => {
  const tocanOdg = q.odg[q.tocno];
  randomPitanje(q.odg);
  q.tocno = q.odg.indexOf(tocanOdg);
});

let trenPitanje = 0;
let bodovi = 0;

function prikaziPitanje(index) {
  const q = sportPitanje[index];
  const container = document.getElementById('quiz-container');
  container.innerHTML = `
  <h1 style="color:#22C55E">SPORT</h1>
    <h2>${q.pitanje}</h2>
    <ul style="list-style:none; padding:0;">
      ${q.odg.map((ans, i) => 
        `<li style="margin-bottom:10px;">
          <button onclick="provjera(${index}, ${i}, this)" style="padding:10px 20px; border: 1px solid #ccc; cursor: pointer; border-radius: 6px;">${ans}</button>
        </li>`
      ).join('')}
    </ul>
    <div id="score" style="margin-top:16px;font-weight:bold;">Score: ${bodovi}</div>
  `;
}

function provjera(qIndex, odgIndex, btn) {
  const jeTocno = odgIndex === sportPitanje[qIndex].tocno;
  
  if (jeTocno) {
    btn.style.backgroundColor = "#22C55E";
    bodovi++;
  } else {
    btn.style.backgroundColor = "#FF6666";
  }

  const scoreDiv = document.getElementById('score');
  if (scoreDiv) scoreDiv.textContent = `Score: ${bodovi}`;

  document.querySelectorAll('#quiz-container button').forEach(btn => btn.disabled = true);

  setTimeout(() => {
    trenPitanje++;
    if (trenPitanje < 10) {
      prikaziPitanje(trenPitanje);
    } else {
      prikaziKraj();
    }
  }, 1000);
}

window.onload = function() {
  if (document.getElementById('quiz-container')) {
    prikaziPitanje(trenPitanje);
  }
};

let username = "";

document.getElementById('login-form').onsubmit = function(e) {
  e.preventDefault();
  username = document.getElementById('username').value.trim();
  if (username) {
    document.getElementById('login-container').style.display = 'none';
    document.getElementById('quiz-container').style.display = '';
    prikaziPitanje(trenPitanje);
  }
};

function prikaziKraj() {
  const container = document.getElementById('quiz-container');
  container.innerHTML = `<h2>Quiz finished!</h2>
    <div class="prikaziKraj">Your score: ${bodovi}/10</div>`;

  let leaderboard = JSON.parse(localStorage.getItem('leaderboard_sport')) || [];
  leaderboard.push({ username, score: bodovi, total: 10});
  localStorage.setItem('leaderboard_sport', JSON.stringify(leaderboard));

  setTimeout(() => {
    window.location.href = 'leaderboard.html';
  }, 2000);
}

