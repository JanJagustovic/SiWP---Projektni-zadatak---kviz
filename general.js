const sportPitanje = [
  {
    pitanje: "What is the capital city of Australia?",
    odg: ["Sydney", "Melbourne", "Canberra", "Brisbane"],
    tocno: 2
  },
  {
    pitanje: "Which planet is known as the Red Planet?",
    odg: ["Venus", "Mars", "Jupiter", "Mercury"],
    tocno: 1
  },
  {
    pitanje: "Who wrote the play 'Romeo and Juliet'?",
    odg: ["Charles Dickens", "William Shakespeare", "Leo Tolstoy", "Mark Twain"],
    tocno: 1
  },
  {
    pitanje: "What is the largest mammal in the world?",
    odg: ["Elephant", "Blue Whale", "Giraffe", "Orca"],
    tocno: 1
  },
  {
    pitanje: "Which element has the chemical symbol 'O'?",
    odg: ["Oxygen", "Gold", "Osmium", "Iron"],
    tocno: 0
  },
  {
    pitanje: "Which continent is the Sahara Desert located on?",
    odg: ["Asia", "Australia", "Africa", "South America"],
    tocno: 2
  },
  {
    pitanje: "How many continents are there on Earth?",
    odg: ["5", "6", "7", "8"],
    tocno: 2
  },
  {
    pitanje: "Which country is famous for the Eiffel Tower?",
    odg: ["Italy", "Germany", "France", "Spain"],
    tocno: 2
  },
  {
    pitanje: "What is the smallest prime number?",
    odg: ["0", "1", "2", "3"],
    tocno: 2
  },
  {
    pitanje: "What is H2O more commonly known as?",
    odg: ["Oxygen", "Hydrogen", "Water", "Salt"],
    tocno: 2
  },
  {
    pitanje: "Which country gifted the Statue of Liberty to the USA?",
    odg: ["Germany", "France", "Canada", "UK"],
    tocno: 1
  },
  {
    pitanje: "Which ocean is the largest?",
    odg: ["Atlantic", "Indian", "Arctic", "Pacific"],
    tocno: 3
  },
  {
    pitanje: "How many degrees are in a right angle?",
    odg: ["45", "90", "180", "360"],
    tocno: 1
  },
  {
    pitanje: "Which instrument has keys, pedals, and strings?",
    odg: ["Guitar", "Violin", "Piano", "Drums"],
    tocno: 2
  },
  {
    pitanje: "What is the hardest natural substance on Earth?",
    odg: ["Iron", "Gold", "Diamond", "Quartz"],
    tocno: 2
  },
  {
    pitanje: "How many colors are there in a rainbow?",
    odg: ["5", "6", "7", "8"],
    tocno: 2
  },
  {
    pitanje: "Who painted the Mona Lisa?",
    odg: ["Michelangelo", "Vincent van Gogh", "Pablo Picasso", "Leonardo da Vinci"],
    tocno: 3
  },
  {
    pitanje: "Which is the longest river in the world?",
    odg: ["Amazon", "Nile", "Yangtze", "Mississippi"],
    tocno: 1
  },
  {
    pitanje: "Which is the most widely spoken language in the world?",
    odg: ["English", "Spanish", "Mandarin Chinese", "Hindi"],
    tocno: 2
  },
  {
    pitanje: "In which country is the Great Pyramid of Giza located?",
    odg: ["Mexico", "Egypt", "India", "Iraq"],
    tocno: 1
  },
  {
    pitanje: "How many legs does a spider have?",
    odg: ["6", "8", "10", "12"],
    tocno: 1
  },
  {
    pitanje: "Which metal is liquid at room temperature?",
    odg: ["Mercury", "Iron", "Aluminum", "Zinc"],
    tocno: 0
  },
  {
    pitanje: "What gas do plants absorb from the atmosphere?",
    odg: ["Oxygen", "Carbon Dioxide", "Hydrogen", "Nitrogen"],
    tocno: 1
  },
  {
    pitanje: "How many teeth does an adult human typically have?",
    odg: ["28", "30", "32", "34"],
    tocno: 2
  },
  {
    pitanje: "Who discovered gravity?",
    odg: ["Einstein", "Newton", "Galileo", "Tesla"],
    tocno: 1
  },
  {
    pitanje: "Which country has the largest population?",
    odg: ["USA", "China", "India", "Indonesia"],
    tocno: 2
  },
  {
    pitanje: "How many minutes are there in a day?",
    odg: ["1440", "1240", "1340", "1540"],
    tocno: 0
  },
  {
    pitanje: "What is the main ingredient in guacamole?",
    odg: ["Tomato", "Avocado", "Pepper", "Onion"],
    tocno: 1
  },
  {
    pitanje: "What is the boiling point of water in Celsius?",
    odg: ["90", "95", "100", "105"],
    tocno: 2
  },
  {
    pitanje: "How many players are there in a football (soccer) team?",
    odg: ["9", "10", "11", "12"],
    tocno: 2
  },
  {
    pitanje: "Which famous scientist developed the theory of relativity?",
    odg: ["Newton", "Einstein", "Curie", "Hawking"],
    tocno: 1
  },
  {
    pitanje: "What is the largest internal organ in the human body?",
    odg: ["Heart", "Lungs", "Liver", "Stomach"],
    tocno: 2
  },
  {
    pitanje: "Which country is known as the Land of the Rising Sun?",
    odg: ["South Korea", "Thailand", "China", "Japan"],
    tocno: 3
  },
  {
    pitanje: "How many bones are in the human body?",
    odg: ["206", "201", "210", "208"],
    tocno: 0
  },
  {
    pitanje: "What do bees collect and use to make honey?",
    odg: ["Nectar", "Pollen", "Water", "Resin"],
    tocno: 0
  },
  {
    pitanje: "Which natural disaster is measured with the Richter scale?",
    odg: ["Tornado", "Hurricane", "Earthquake", "Flood"],
    tocno: 2
  },
  {
    pitanje: "Which animal is known as the King of the Jungle?",
    odg: ["Tiger", "Lion", "Elephant", "Leopard"],
    tocno: 1
  },
  {
    pitanje: "What is the chemical formula of table salt?",
    odg: ["NaCl", "KCl", "CaCl", "HCl"],
    tocno: 0
  },
  {
    pitanje: "Which shape has three sides?",
    odg: ["Square", "Rectangle", "Triangle", "Circle"],
    tocno: 2
  },
  {
    pitanje: "Who was the first man to walk on the Moon?",
    odg: ["Yuri Gagarin", "Buzz Aldrin", "Neil Armstrong", "Alan Shepard"],
    tocno: 2
  },
  {
    pitanje: "What is the name of the closest star to Earth?",
    odg: ["Alpha Centauri", "Betelgeuse", "Sirius", "The Sun"],
    tocno: 3
  },
  {
    pitanje: "What do you call a baby goat?",
    odg: ["Foal", "Kid", "Calf", "Pup"],
    tocno: 1
  },
  {
    pitanje: "Which direction does the sun rise from?",
    odg: ["West", "South", "East", "North"],
    tocno: 2
  },
  {
    pitanje: "What is the square root of 81?",
    odg: ["7", "8", "9", "10"],
    tocno: 2
  },
  {
    pitanje: "How many hours are there in three days?",
    odg: ["48", "60", "72", "84"],
    tocno: 2
  },
  {
    pitanje: "Which bird is known for mimicking human speech?",
    odg: ["Crow", "Owl", "Parrot", "Sparrow"],
    tocno: 2
  },
  {
    pitanje: "Which part of the plant conducts photosynthesis?",
    odg: ["Root", "Stem", "Leaf", "Flower"],
    tocno: 2
  },
  {
    pitanje: "Which gas is essential for humans to breathe?",
    odg: ["Carbon Dioxide", "Oxygen", "Hydrogen", "Nitrogen"],
    tocno: 1
  },
  {
    pitanje: "How many zeros are in one million?",
    odg: ["5", "6", "7", "8"],
    tocno: 1
  },
  {
    pitanje: "What currency is used in Japan?",
    odg: ["Won", "Dollar", "Yen", "Peso"],
    tocno: 2
  }
];

function randomPitanje(polje) {
  for (let i = polje.length - 1; i >= 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [polje[i], polje[j]] = [polje[j], polje[i]];
  }
}

randomPitanje(sportPitanje);

sportPitanje.forEach(q => {
  const tocanOdg = q.odg[q.tocno];
  randomPitanje(q.odg);
  q.tocno = q.odg.indexOf(tocanOdg);
});

let trenPitanje = 0;
let bodovi = 0;

function prikaziPitanje(index) {
  const q = sportPitanje[index];
  const container = document.getElementById('quiz-container');
  container.innerHTML = `
  <h1 style="color:#6366F1">GENERAL</h1>
    <h2>${q.pitanje}</h2>
    <ul style="list-style:none; padding:0;">
      ${q.odg.map((ans, i) => 
        `<li style="margin-bottom:10px;">
          <button onclick="provjera(${index}, ${i}, this)" style="padding:10px 20px; border: 1px solid #ccc; cursor: pointer; border-radius: 6px;">${ans}</button>
        </li>`
      ).join('')}
    </ul>
    <div id="score" style="margin-top:16px;font-weight:bold;">Score: ${bodovi}</div>
  `;
}

function provjera(qIndex, odgIndex, btn) {
  const jeTocno = odgIndex === sportPitanje[qIndex].tocno;
  
  if (jeTocno) {
    btn.style.backgroundColor = "#22C55E";
    bodovi++;
  } else {
    btn.style.backgroundColor = "#FF6666";
  }

  const scoreDiv = document.getElementById('score');
  if (scoreDiv) scoreDiv.textContent = `Score: ${bodovi}`;

  document.querySelectorAll('#quiz-container button').forEach(btn => btn.disabled = true);

  setTimeout(() => {
    trenPitanje++;
    if (trenPitanje < 10) {
      prikaziPitanje(trenPitanje);
    } else {
      prikaziKraj();
    }
  }, 1000);
}

window.onload = function() {
  if (document.getElementById('quiz-container')) {
    prikaziPitanje(trenPitanje);
  }
};

let username = "";

document.getElementById('login-form').onsubmit = function(e) {
  e.preventDefault();
  username = document.getElementById('username').value.trim();
  if (username) {
    document.getElementById('login-container').style.display = 'none';
    document.getElementById('quiz-container').style.display = '';
    prikaziPitanje(trenPitanje);
  }
};

function prikaziKraj() {
  const container = document.getElementById('quiz-container');
  container.innerHTML = `<h2>Quiz finished!</h2>
    <div class="prikaziKraj">Your score: ${bodovi}/10</div>`;

  let leaderboard = JSON.parse(localStorage.getItem('leaderboard_general')) || [];
  leaderboard.push({ username, score: bodovi, total: 10});
  localStorage.setItem('leaderboard_general', JSON.stringify(leaderboard));

  setTimeout(() => {
    window.location.href = 'leaderboard.html';
  }, 2000);
}

